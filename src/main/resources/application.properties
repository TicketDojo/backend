spring.application.name=${SPRING_APPLICATION_NAME:backdeepfamily}

# MySQL
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/ticketdojo}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:root}

# JPA
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# JPA Lock Timeout (milliseconds)
spring.jpa.properties.javax.persistence.lock.timeout=3000

# HikariCP - Named Lock 대기로 인한 커넥션 고갈 방지
spring.datasource.hikari.maximum-pool-size=${DB_POOL_MAX:20}
spring.datasource.hikari.minimum-idle=${DB_POOL_MIN:5}
spring.datasource.hikari.idle-timeout=${DB_POOL_IDLE_TIMEOUT:30000}
spring.datasource.hikari.connection-timeout=${DB_POOL_CONN_TIMEOUT:30000}
spring.datasource.hikari.max-lifetime=${DB_POOL_MAX_LIFETIME:1800000}

# ???? ??
spring.datasource.hikari.auto-commit=false
spring.jpa.properties.hibernate.connection.provider_disables_autocommit=true

# JWT secret
spring.jwt.secret=${SPRING_JWT_SECRET:rnehdduqdlwoduddlawlalsqordpsemrlvglvkgpclrldjfakskrlfrpgodiehldy}


# Actuator
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.health.show-details=when_authorized
management.info.java.enabled=true
management.info.os.enabled=true
management.server.port=${MANAGEMENT_PORT:8080 }